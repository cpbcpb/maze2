if (self.CavalryLogger) { CavalryLogger.start_js(["Aijxj"]); }

__d("BootloaderGamesPresenceIconContainer.react",["BootloadOnRender.react","JSResource","LazyComponent.react","React"],(function(a,b,c,d,e,f){"use strict";function a(a){return b("React").createElement(b("BootloadOnRender.react"),{component:b("React").createElement(b("LazyComponent.react"),{userID:a.userID}),loader:b("JSResource")("GamesPresenceIconContainer.react").__setRef("BootloaderGamesPresenceIconContainer.react"),placeholder:b("React").createElement("div",null)})}e.exports=a}),null);
__d("ChatSidebarCreateNewGroupItem.react",["ix","cx","fbt","Bootloader","ChatConfig","Image.react","Link.react","React","TooltipData","asset"],(function(a,b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j;c=b("React").PropTypes;d=babelHelpers.inherits(a,b("React").PureComponent);j=d&&d.prototype;function a(){var a,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return c=(a=j.constructor).call.apply(a,[this].concat(e)),this.$2=function(a){var c=this.props,d=c.slot,e=c.slotOffset,f=c.totalSlots;b("Bootloader").loadModules(["MessengerChatSidebarSlotsTypedLogger","MessengerGCFJewelNewGroupButtonInit"],function(a,b){new a().setSlotClicked(e+d).setSlotsVisibleBeforeScrolling(f).setRelativeSlotClicked(d).setSidebarSection("groups").log(),b.onLinkClick()},"ChatSidebarCreateNewGroupItem.react");a.preventDefault()}.bind(this),c}a.prototype.render=function(){var a=i._("Create New Group"),c=g("492281"),d=20,e="_55ln"+(b("ChatConfig").get("divebar_rounded_profile",!1)?" _qhr":"");return b("React").createElement("div",b("TooltipData").propsFor(this.$1()),b("React").createElement(b("Link.react"),{className:e,href:"#",onClick:this.$2,rel:"ignore"},b("React").createElement("div",{className:"_55lp"},b("React").createElement("div",{className:"_55lq _tt_","aria-hidden":!0},b("React").createElement(b("Image.react"),{className:"_tu0",src:c,width:d,height:d,alt:""})),b("React").createElement("div",{className:"_55lr"},a))))};a.prototype.$1=function(){return i._("Create New Group")};a.propTypes={slot:c.number,slotOffset:c.number,totalSlots:c.number};e.exports=a}),null);
__d("ChatSidebarNameWithGameInfo.react",["BootloadOnRender.react","JSResource","LazyComponent.react","React","TextWithEmoticons.react"],(function(a,b,c,d,e,f){"use strict";function a(a){var c=a.name,d=a.userID;a=a.nameCanHaveEmoji!=null&&a.nameCanHaveEmoji;var e=a?b("React").createElement(b("TextWithEmoticons.react"),{renderEmoticons:!0,renderEmoji:!0,text:c}):c;return b("React").createElement(b("BootloadOnRender.react"),{component:b("React").createElement(b("LazyComponent.react"),{originalElement:e,userID:d}),loader:b("JSResource")("ChatSidebarItemUserPlayingGameInfoContainer.react").__setRef("ChatSidebarNameWithGameInfo.react"),placeholder:a?e:b("React").createElement("div",null,c)})}e.exports=a}),null);
__d("ChatSidebarProfile.react",["cx","React","SplitImage.react"],(function(a,b,c,d,e,f,g){__p&&__p();var h;h=babelHelpers.inherits(a,b("React").PureComponent);h&&h.prototype;a.prototype.render=function(){"use strict";var a=this.props;return b("React").createElement("div",{className:"_55lq"+(a.showingPresenceOnProfile?" _2be2":""),"aria-hidden":!0},b("React").createElement(b("SplitImage.react"),{size:a.imageSize,srcs:a.images,className:"_1gyw"}),a.isActive?b("React").createElement("div",{className:"_1gyx"}):null)};function a(){"use strict";h.apply(this,arguments)}e.exports=a}),null);
__d("ChatSidebarStatus.react",["cssVar","cx","fbt","ix","AvailableListState","Image.react","React","asset","gkx"],(function(a,b,c,d,e,f,g,h,i,j){__p&&__p();var k;k=babelHelpers.inherits(a,b("React").PureComponent);k&&k.prototype;a.prototype.render=function(){"use strict";var a=this.props,c=this.renderStatusIcon();if(c===null&&a.statusTime===null)return null;var d=!0,e=a.unreadCount;e!=null&&e>0&&(c=a.statusTime!=null?null:c,d=!1);a.showingPresenceOnProfile===!1&&a.isDoNotDisturb===!0&&a.isWorkUser&&b("gkx")("AT505jRFtG_7w3nhZICN2g5HZo5KZ4FP0G7n7x_oCDMvQmeZOfjSNcbXcUzDHS_pr0yjnx5p-38r7Z_8WJZNypI6")&&(d=!1);return b("React").createElement("div",{className:"_568z"+(a.showRelationshipIndicator?" _2oov":"")},d?this.renderLastActiveTime():null,c)};a.prototype.renderStatusIcon=function(){"use strict";__p&&__p();var a=this.props;if(a.isMessengerOnlyContact===!0)return b("React").createElement(b("Image.react"),{alt:i._("Using Messenger without Facebook"),className:"_568_",src:j("28076")});else{if(a.showingPresenceOnProfile===!1&&a.isDoNotDisturb===!0&&a.isWorkUser&&b("gkx")("AT505jRFtG_7w3nhZICN2g5HZo5KZ4FP0G7n7x_oCDMvQmeZOfjSNcbXcUzDHS_pr0yjnx5p-38r7Z_8WJZNypI6"))return b("React").createElement("span",{"aria-label":i._("Do Not Disturb"),className:"_3zdc"});if(a.status===b("AvailableListState").ACTIVE)if(a.showRelationshipIndicator===!0)return b("React").createElement(b("Image.react"),{src:j("593722"),alt:i._("hearts icon")});else if(a.showingPresenceOnProfile===!1)return b("React").createElement("span",{"aria-label":i._("Active Now"),style:{background:"#42b72a",borderRadius:"50%",display:"inline-block",height:"6px",marginLeft:"4px",veritcalAlign:"middle",width:"6px"}})}return null};a.prototype.renderLastActiveTime=function(){"use strict";return b("React").createElement("div",{className:"_568-"},this.props.statusTime)};function a(){"use strict";k.apply(this,arguments)}e.exports=a}),null);
__d("RenderOnClient.react",["React"],(function(a,b,c,d,e,f){"use strict";var g;g=babelHelpers.inherits(a,b("React").Component);g&&g.prototype;a.prototype.render=function(){return this.props.component};function a(){g.apply(this,arguments)}e.exports=a}),null);
__d("ChatSidebarItem.react",["cx","ix","AvailableListState","BootloaderGamesPresenceIconContainer.react","BootloadOnRender.react","ChatConfig","ChatSidebarConstants","ChatSidebarNameWithGameInfo.react","ChatSidebarProfile.react","ChatSidebarStatus.react","CurrentUser","ErrorBoundary.react","Image.react","JSResource","LazyComponent.react","React","RenderOnClient.react","SRLink.react","SRXUIBadge.react","TextWithEmoticons.react","gkx"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i;c=babelHelpers.inherits(a,b("React").PureComponent);i=c&&c.prototype;function a(){var a,b;for(var c=arguments.length,d=new Array(c),e=0;e<c;e++)d[e]=arguments[e];return b=(a=i.constructor).call.apply(a,[this].concat(d)),this.state={hasHovered:!1,hover:!1},this.$2=function(){this.setState({hasHovered:!0,hover:!0}),this.props.onMouseEnter!=null&&this.props.onMouseEnter()}.bind(this),this.$3=function(){this.setState({hover:!1})}.bind(this),b}a.prototype.render=function(){var a="_55ln"+(this.props.context?" _55lo":"")+(b("ChatConfig").getBool("divebar_rounded_profile")?" _qhr":""),c=this.props.nameCanHaveEmoji===!0?b("React").createElement(b("RenderOnClient.react"),{component:b("React").createElement(b("TextWithEmoticons.react"),{renderEmoticons:!0,renderEmoji:!0,text:this.props.name})}):this.props.name;return b("React").createElement(b("ErrorBoundary.react"),{fallbackComponent:this.$1},b("React").createElement(b("SRLink.react"),{className:a,href:this.props.href,onClick:this.props.onClick,onMouseEnter:this.$2,onMouseLeave:this.$3,rel:"ignore"},b("React").createElement("div",{className:"_55lp"},this.$4(),b("React").createElement("div",{className:"_5bon"},this.renderWaveButton(),this.renderPlayingGame(),this.renderBirthday(),this.renderUnreadCount(),this.renderStatus()),b("React").createElement("div",{className:"_55lr"},this.props.isPlayingGame===!0&&this.props.userID&&b("gkx")("AT6u73YzhSbtwfTvGI_dUkCDWV1VMa7c035xhh1qNzWWNDuWfna3ikNNGOjtL2adauohv1GFlwZ9RrqzMEpZG7gY")?this.$5():c),b("React").createElement("div",{className:"_55ls"},this.props.context))))};a.prototype.renderUnreadCount=function(){var a=this.props.unreadCount;return a==null||a===0?null:b("React").createElement(b("SRXUIBadge.react"),{count:a,maxcount:9})};a.prototype.renderStatus=function(){var a=b("ChatConfig").getBool("presence_on_profile");return b("React").createElement(b("ChatSidebarStatus.react"),{isMessengerOnlyContact:this.props.isMessengerOnlyContact,isDoNotDisturb:this.props.isDoNotDisturb,isWorkUser:b("CurrentUser").isWorkUser(),showingPresenceOnProfile:a,showRelationshipIndicator:this.props.showRelationshipIndicator,status:this.props.status,unreadCount:this.props.unreadCount,statusTime:this.props.statusTime})};a.prototype.renderWaveButton=function(){if(!this.props.showWave||!this.props.userID)return null;return!this.state.hasHovered&&b("gkx")("AT6dSUFvqaQ48TePPsqJaPxoR89sKDrmnkj9AwTUQGCUAO64e0__lqQVl0pZO8oX1VVITdmuH2Oh5NO1Ry2djFb0")?b("React").createElement("div",null):b("React").createElement(b("BootloadOnRender.react"),{loader:b("JSResource")("WaveButton.react").__setRef("ChatSidebarItem.react"),placeholder:b("React").createElement("div",null),component:b("React").createElement(b("LazyComponent.react"),{userID:this.props.userID,hover:this.state.hover})})};a.prototype.renderBirthday=function(){if(this.props.birthday!==!0)return null;if(b("CurrentUser").isWorkUser()&&!b("gkx")("AT6xZmI2OdSYphpl234QKktFXq5sRz0kw7_B2KSTTJG4l__HXq2R95tfCOGk3WHJAmEbSfznHtUDjqZLC1cYF7k9"))return null;var a="_5dv3",c=h("74517");return b("React").createElement(b("Image.react"),{className:a,src:c})};a.prototype.renderPlayingGame=function(){return this.props.statusTime!=null||this.props.birthday===!0||this.props.isPlayingGame!==!0?null:b("React").createElement(b("RenderOnClient.react"),{component:b("React").createElement(b("BootloaderGamesPresenceIconContainer.react"),{userID:this.props.userID})})};a.prototype.$1=function(){return b("React").createElement(b("SRLink.react"),{"aria-hidden":!0,tabIndex:-1})};a.prototype.$4=function(){var a=b("ChatConfig").getBool("presence_on_profile"),c=this.props.imageSize,d=this.props.image,e=this.props.images;c=c!=null?c:b("ChatSidebarConstants").getDefaultImageSize();var f=[];d!=null?f=[d]:e!=null&&(f=e);return b("React").createElement(b("ChatSidebarProfile.react"),{showingPresenceOnProfile:a,imageSize:c,isActive:a&&this.props.status===b("AvailableListState").ACTIVE,images:f})};a.prototype.$5=function(){return b("React").createElement(b("RenderOnClient.react"),{component:b("React").createElement(b("ChatSidebarNameWithGameInfo.react"),{name:this.props.name,nameCanHaveEmoji:this.props.nameCanHaveEmoji,userID:this.props.userID})})};e.exports=a}),null);
__d("ChatSidebarThread.react",["Bootloader","ChatSidebarItem.react","ChatSidebarParticipantTooltipBuilder","MercuryIDs","MercuryParticipantListRenderer","React","TooltipData","WebMessengerThreadPermalinks","requireWeak"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g;c=b("React").PropTypes;d=babelHelpers.inherits(a,b("React").PureComponent);g=d&&d.prototype;function a(){__p&&__p();var a,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return c=(a=g.constructor).call.apply(a,[this].concat(e)),this.$2=function(a){var c=this.props,d=c.slot,e=c.slotOffset,f=c.threadFBID,g=c.totalSlots;f&&b("requireWeak")("FantaTabActions",function(a){a.openTab(b("MercuryIDs").getThreadIDFromThreadFBID(f),["divebar_groups"])});b("Bootloader").loadModules(["MessengerChatSidebarSlotsTypedLogger","ChatOpenTabEventLogger"],function(a,b){new a().setSlotClicked(e+d).setSlotsVisibleBeforeScrolling(g).setRelativeSlotClicked(d).setSidebarSection("groups").log(),f&&b.logClickOpen(this.props.referrer,f)}.bind(this),"ChatSidebarThread.react");a.preventDefault()}.bind(this),c}a.prototype.render=function(){var a=this.props.name,c=h(this.props.threadFBID,this.props.participants,this.props.numOtherParticipants),d=a?c:undefined,e=this.props.image?[]:i(this.props.participants);a=a?a:c;return b("React").createElement("div",b("TooltipData").propsFor(this.$1()),b("React").createElement(b("ChatSidebarItem.react"),{context:d,href:this.props.threadFBID&&b("WebMessengerThreadPermalinks").getThreadURIFromServerID(this.props.threadFBID),imageSize:this.props.imageSize,image:this.props.image,images:e,name:a,nameCanHaveEmoji:!0,onClick:this.$2,referrer:this.props.referrer,status:this.props.status,unreadCount:this.props.unreadCount,showWave:!1,showRelationshipIndicator:!1}))};a.prototype.$1=function(){return b("ChatSidebarParticipantTooltipBuilder").buildParticipantsTooltip(this.props.participants,this.props.numOtherParticipants)};a.propTypes={image:c.string,imageSize:c.number,name:c.string,participants:c.array.isRequired,numOtherParticipants:c.number.isRequired,referrer:c.string,slot:c.number,slotOffset:c.number,status:c.number,threadFBID:c.string,totalSlots:c.number,unreadCount:c.number};a.defaultProps={numOtherParticipants:b("ChatSidebarParticipantTooltipBuilder").MAX_NUM_PARTICIPANTS_TO_RENDER};function h(a,c,d){return new(b("MercuryParticipantListRenderer"))().setIsNewThread(!a).setUseShortName(!0).setTotalParticipantCount(d).renderParticipantList(c).toString()}function i(a){return a.map(function(a){return a.image_src}).filter(function(a){return a})}e.exports=a}),null);
__d("ChatSidebarGroupThreadsGroup.react",["cx","ChatSidebarConstants","ChatSidebarSections","ChatSidebarThread.react","MercuryIDs","PresencePrivacy","PresenceStatus","React"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h;c=b("React").PropTypes;d=babelHelpers.inherits(a,b("React").Component);h=d&&d.prototype;function a(){var a,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return c=(a=h.constructor).call.apply(a,[this].concat(e)),this.$1=function(a,c){var d=a.mercury_thread.participants;d=d.map(function(a){return typeof a==="string"&&b("MercuryIDs").isValid(a)?b("MercuryIDs").getUserIDFromParticipantID(a):a});var e=this.props.isDisconnected||b("PresencePrivacy").isUserOffline();return b("React").createElement("li",{className:"_42fz"+(e?" _570-":""),"data-id":a.uid,key:a.uid},b("React").createElement(b("ChatSidebarThread.react"),{image:a.mercury_thread.image_src,imageSize:b("ChatSidebarConstants").getImageSize(),name:a.mercury_thread.name,participants:a.participants_to_render,numOtherParticipants:d.length-1,referrer:b("ChatSidebarSections").ORDERED_LIST,slot:c,slotOffset:this.props.slotOffset,status:b("PresenceStatus").getGroup(d),threadFBID:a.uid,totalSlots:this.props.totalSlots}))}.bind(this),c}a.prototype.render=function(){return b("React").createElement("ul",null,this.props.groups.map(this.$1))};a.propTypes={groups:c.array.isRequired,isDisconnected:c.bool,slotOffset:c.number,totalSlots:c.number};e.exports=a}),null);
__d("ChatSidebarItemPlaceholder.react",["cx","React"],(function(a,b,c,d,e,f,g){"use strict";function a(a){var c=50+Math.ceil(50-2*(Math.pow(7+a.slot,2)%10));return b("React").createElement("li",{className:"_42fz"+(a.isDisconnected?" _570-":"")},b("React").createElement("div",{className:"_55ln"+(a.roundedProfile?" _qhr":"")},b("React").createElement("div",{className:"_55lp"},b("React").createElement("span",{className:"_1qh _55lq"}),b("React").createElement("span",{className:"_55lr"},b("React").createElement("span",{className:"_1qh",style:{width:String(c)+"px"}})))))}e.exports=a}),null);
__d("ChatSidebarUser.react",["Bootloader","ChatSidebarItem.react","MercuryIDs","React","WebMessengerThreadPermalinks","gkx","requireWeak"],(function(a,b,c,d,e,f){__p&&__p();var g;c=babelHelpers.inherits(a,b("React").PureComponent);g=c&&c.prototype;function a(){__p&&__p();var a,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return c=(a=g.constructor).call.apply(a,[this].concat(e)),this.handleMouseEnter=function(){var a=this.props.userID;this.props.onMouseEnter&&this.props.onMouseEnter(a);b("gkx")("AT4T9LO8V3BIOVcGOYPKxxsCiNDzy0HHXFfwezwsUTXaZjtufQoUfjAr_b0uxP3zESohJEtycMUpu9xvYr512cum")&&this.props.showHoverCard===!0&&b("Bootloader").loadModules(["ChatSidebarHoverCardV2","ReactDOM"],function(b,c){return b.show(a,c.findDOMNode(this))}.bind(this),"ChatSidebarUser.react")}.bind(this),this.$1=function(a){var c=this.props,d=c.sectionName,e=c.slot,f=c.slotOffset,g=c.totalSlots,h=c.userID,i=b("MercuryIDs").getThreadIDFromUserID(h);b("requireWeak")("FantaTabActions",function(a){a.openTab(i,["divebar_"+d])});b("Bootloader").loadModules(["MessengerChatSidebarSlotsTypedLogger","ChatOpenTabEventLogger"],function(a,b){new a().setSlotClicked(f+e).setSlotsVisibleBeforeScrolling(g).setRelativeSlotClicked(e).setSidebarSection(d).log(),b.logUserClickOpen(d,h,{global_slot:e})},"ChatSidebarUser.react");a.preventDefault()}.bind(this),c}a.prototype.render=function(){"use strict";var a=b("WebMessengerThreadPermalinks").getThreadURIFromUserID(this.props.userID);return b("React").createElement(b("ChatSidebarItem.react"),{onClick:this.$1,onMouseEnter:this.handleMouseEnter,href:a,imageSize:this.props.imageSize,image:this.props.image,isDoNotDisturb:this.props.isDoNotDisturb,isPlayingGame:this.props.isPlayingGame,name:this.props.name,nameCanHaveEmoji:!1,showRelationshipIndicator:this.props.showRelationshipIndicator,status:this.props.status,birthday:this.props.birthday,statusTime:this.props.statusTime,context:this.props.context,unreadCount:this.props.unreadCount,isMessengerOnlyContact:this.props.isMessengerOnlyContact,userID:this.props.userID,showWave:this.props.showWave})};e.exports=a}),null);
__d("ChatSidebarUserGroupProfile.react",["cx","AvailableListConstants","ChatConfig","ChatSidebarItemPlaceholder.react","ChatSidebarSections","ChatSidebarUser.react","React","gkx"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h=b("ChatConfig").get("divebar_rounded_profile",!1);function a(a){var c=a.slot,d=a.profileData;if(d==null)return b("React").createElement(b("ChatSidebarItemPlaceholder.react"),{isDisconnected:a.isDisconnected,key:"placeholder"+c,roundedProfile:h,slot:c});var e=d.shortProfile;if(!e.id)return null;var f=d.status,g=f!==b("AvailableListConstants").ACTIVE?d.lastActiveTime:null,i=a.isDisconnected||!d.presencePrivacyAllows,j=a.sectionName===b("ChatSidebarSections").NEARBY?e.location:null,k=b("gkx")("AT5N7c3vp2KZeBLcdLGCkrCGhNAJHtjW4P7Xmlq4tK83K879cfHJ4CNLjdjOGJAQApRspNV8z5qOFgj3xZqsPbN0");return b("React").createElement("li",{className:"_42fz"+(i?" _570-":""),"data-id":e.id,key:e.id},b("React").createElement(b("ChatSidebarUser.react"),{birthday:e.is_birthday,image:e.thumbSrc,imageSize:a.imageSize,isDoNotDisturb:!!a.doNotDisturbMap[e.id],isPlayingGame:!!d.isPlaying,name:e.name,onMouseEnter:a.onMouseEnter,showHoverCard:a.showHoverCard,showRelationshipIndicator:e.show_relationship_indicator,sectionName:a.sectionName,slot:c,slotOffset:a.slotOffset,status:f,statusTime:g,totalSlots:a.totalSlots,userID:e.id,unreadCount:d.unreadCount,isMessengerOnlyContact:e.is_messenger_only,context:j,showWave:k}))}e.exports=a}),null);
__d("ChatSidebarUserGroupContainer.react",["ChatSidebarSections","ChatSidebarUserGroupProfile.react","CurrentUser","React","WorkChatAvailabilityStatusLoader","clearTimeout","emptyFunction","gkx","onAfterLoadSafe","promiseDone","requireWeak","setTimeoutAcrossTransitions"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g,h=400,i=5e3;c=babelHelpers.inherits(a,b("React").Component);g=c&&c.prototype;function a(a){g.constructor.call(this,a),this.$1=null,this.$2={},this.state={doNotDisturbMap:{}},this.$6=function(){this.$3||(this.$3=b("setTimeoutAcrossTransitions")(function(){b("requireWeak")("FantaTabsEagerBootloader",function(a){return a.bootload()}),this.$6=b("emptyFunction")}.bind(this),h))}.bind(this),this.$7=function(){b("clearTimeout")(this.$3),this.$3=null}.bind(this),this.$4()}a.prototype.componentDidMount=function(){b("onAfterLoadSafe")(function(){b("gkx")("AT505jRFtG_7w3nhZICN2g5HZo5KZ4FP0G7n7x_oCDMvQmeZOfjSNcbXcUzDHS_pr0yjnx5p-38r7Z_8WJZNypI6")&&b("CurrentUser").isWorkUser()&&b("promiseDone")(b("WorkChatAvailabilityStatusLoader").load(),function(a){var b=a.store,c=a.actions;this.props.ids.forEach(function(a){c.subscribeUser(a,this)}.bind(this));this.setState({doNotDisturbMap:this.$5(this.props.ids)});b.fetchUsers(this.props.ids);this.$1=b.addListener(function(){this.setState({doNotDisturbMap:this.$5(this.props.ids)})}.bind(this))}.bind(this))}.bind(this))};a.prototype.componentDidUpdate=function(){this.$4()};a.prototype.componentWillUnmount=function(){this.$1&&this.$1.remove()};a.prototype.UNSAFE_componentDidReceiveProps=function(a){if(b("gkx")("AT505jRFtG_7w3nhZICN2g5HZo5KZ4FP0G7n7x_oCDMvQmeZOfjSNcbXcUzDHS_pr0yjnx5p-38r7Z_8WJZNypI6")&&b("WorkChatAvailabilityStatusLoader").isLoaded()){var c=b("WorkChatAvailabilityStatusLoader").getActionsEnforce();b("WorkChatAvailabilityStatusLoader").getStoreEnforce().fetchUsers(a.ids.filter(function(a){return this.props.ids.indexOf(a)<0}.bind(this)));this.props.ids.forEach(function(a){return c.unsubscribeUser(a,this)}.bind(this));a.ids.forEach(function(a){return c.subscribeUser(a,this)}.bind(this))}};a.prototype.render=function(){var a=this.props.ids.filter(function(a){return this.props.usersDetailedData[a]||!this.$2[a]}.bind(this));return b("React").createElement("ul",{onMouseEnter:this.$6,onMouseLeave:this.$7},a.map(function(a,c){return b("React").createElement(b("ChatSidebarUserGroupProfile.react"),{doNotDisturbMap:this.state.doNotDisturbMap,imageSize:this.props.imageSize,isDisconnected:this.props.isDisconnected,onMouseEnter:this.props.onMouseEnterItem,showHoverCard:this.props.showHoverCard,sectionName:this.props.sectionName,slotOffset:this.props.slotOffset,totalSlots:this.props.totalSlots,profileData:this.props.usersDetailedData[a],id:a,key:a,slot:c})}.bind(this)))};a.prototype.$5=function(a){if(!b("gkx")("AT505jRFtG_7w3nhZICN2g5HZo5KZ4FP0G7n7x_oCDMvQmeZOfjSNcbXcUzDHS_pr0yjnx5p-38r7Z_8WJZNypI6")||!b("CurrentUser").isWorkUser()||!b("WorkChatAvailabilityStatusLoader").isLoaded())return{};var c=b("WorkChatAvailabilityStatusLoader").getStoreEnforce(),d={};a.forEach(function(a){d[a]=c.getIsDoNotDisturb(a)});return d};a.prototype.$4=function(){this.props.ids.forEach(function(a){var b=this.props.usersDetailedData[a];b?this.$8(a):this.$9(a)}.bind(this))};a.prototype.$9=function(a){this.$2[a]===undefined&&(this.$2[a]=b("setTimeoutAcrossTransitions")(function(){delete this.$2[a],this.forceUpdate()}.bind(this),i))};a.prototype.$8=function(a){var c=this.$2[a];if(!c)return;b("clearTimeout")(c);delete this.$2[a]};e.exports=a}),null);
__d("ChatSidebarOrderedList.react",["ix","cx","fbt","Bootloader","BootloadOnRender.react","ChatConfig","ChatOptions","ChatQuietLinks","ChatReliabilityInstrumentation","ChatSidebarActions","ChatSidebarConstants","ChatSidebarCreateNewGroupItem.react","ChatSidebarGroupThreadsGroup.react","ChatSidebarHeader.react","ChatSidebarSections","ChatSidebarUserGroupContainer.react","Image.react","JSResource","LazyComponent.react","LeftRight.react","Link.react","MessengerWebDriverTestIDs","React","ReactDOM","Run","Scroll","XPagesBrowserController","fbglyph","gkx","ifRequired"],(function(a,b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j,k=3;c=babelHelpers.inherits(a,b("React").PureComponent);j=c&&c.prototype;function a(){var a,b;for(var c=arguments.length,d=new Array(c),e=0;e<c;e++)d[e]=arguments[e];return b=(a=j.constructor).call.apply(a,[this].concat(d)),this.state={isDisconnected:!1},this.$1=null,this.$2=null,this.$3=null,this.$4=null,b}a.prototype.componentDidMount=function(){b("ChatQuietLinks").nukeLinks(b("ReactDOM").findDOMNode(this.refs.noLinks)),b("Run").onAfterLoad(function(){b("ChatSidebarActions").afterDomLoad(),this.$5()}.bind(this))};a.prototype.componentWillUnmount=function(){this.$1!=null&&this.$1.unsubscribe()};a.prototype.render=function(){if(this.props.hide)return null;var a=this.props.offlineUsers&&this.props.offlineUsers.length>0?this.$6():this.$7();a=b("React").createElement(b("React").Fragment,null,b("React").createElement("div",{ref:"noLinks"},this.$8(),this.$9()),this.$10(),b("React").createElement("div",{ref:"noLinks"},this.$11(),this.$12(),a));return b("React").createElement("div",{"data-testid":b("MessengerWebDriverTestIDs").CHAT_SIDEBAR},b("React").createElement("div",{ref:"noLinks"},this.$13()),b("React").createElement("div",{ref:"noLinks"},this.$14()),!this.$15()&&a,this.$16())};a.prototype.$17=function(a){var c=this.props.scrollContainer;if(!c)return;var d=c.clientHeight,e=c.scrollHeight,f=b("Scroll").getTop(c),g=Math.min(a.offsetTop,e-d);f!==g&&b("ifRequired")("Animation",function(a){var b=Math.abs(g-f)/c.clientHeight*500;new a(c).to("scrollTop",g).ease(a.ease.end).duration(b).go()},function(){b("Scroll").setTop(c,g)})};a.prototype.$8=function(){if(!b("ChatConfig").getBool("show_header"))return null;var a=this.state.isDisconnected||this.props.isUserOffline;return b("React").createElement(b("ChatSidebarHeader.react"),{className:a?"_570-":""},i._("CONTACTS"))};a.prototype.$6=function(){var a=b("ChatSidebarConstants").getImageSize(),c=this.props.offlineUsers.slice(0,-2),d=i._("MORE CONTACTS"),e=i._("These contacts can't see you on chat.");return b("React").createElement(b("React").Fragment,null,b("React").createElement(b("ChatSidebarHeader.react"),null,d),b("React").createElement(b("ChatSidebarHeader.react"),{className:"_5j9-"},e," ",b("React").createElement("a",{ajaxify:"/ajax/chat/privacy/settings_dialog.php?ref=whitelist_separator",href:"#",rel:"dialog"},i._("Edit"))),b("React").createElement(b("ChatSidebarUserGroupContainer.react"),{ids:c,imageSize:a,isDisconnected:this.state.isDisconnected,loadExtras:this.props.isAfterDomLoad,onMouseEnterItem:this.props.onMouseEnterItem,sectionName:b("ChatSidebarSections").OFFLINE_USERS,showHoverCard:this.props.isSidebar,slotOffset:this.$18(),totalSlots:this.props.maxItemSlots,usersDetailedData:this.props.usersDetailedData}))};a.prototype.$7=function(){__p&&__p();if(this.props.availableUsers.length===0)return null;if(!this.props.isAfterDomLoad){var a=b("ChatSidebarConstants").getItemHeight();return b("React").createElement("div",{style:{height:a*this.props.availableUsers.length}})}a=b("ChatSidebarConstants").getImageSize();var c=i._("{MORE ONLINE CONTACTS} ({count})",[i._param("MORE ONLINE CONTACTS",i._("MORE CONTACTS")),i._param("count",this.props.availableUsers.length)]);return b("React").createElement(b("React").Fragment,null,b("React").createElement(b("ChatSidebarHeader.react"),{ref:function(a){this.$4=a}.bind(this),onClick:function(){return this.$17(b("ReactDOM").findDOMNode(this.$4))}.bind(this)},c),b("React").createElement(b("ChatSidebarUserGroupContainer.react"),{ids:this.props.availableUsers,imageSize:a,isDisconnected:this.state.isDisconnected,loadExtras:this.props.isAfterDomLoad,onMouseEnterItem:this.props.onMouseEnterItem,sectionName:b("ChatSidebarSections").MORE_ONLINE_FRIENDS,showHoverCard:this.props.isSidebar,slotOffset:this.$18(),totalSlots:this.props.maxItemSlots,usersDetailedData:this.props.usersDetailedData}))};a.prototype.$18=function(){var a=this.$19();a+=this.$20();var b=this.props.groups;a+=this.$21(b.length);return a};a.prototype.$10=function(){return!b("ChatConfig").getBool("nearby_friends_www_chatbar")||this.props.nearby.length===0?null:b("React").createElement(b("ChatSidebarHeader.react"),{ref:"nearbySeparator"},b("React").createElement(b("LeftRight.react"),null,i._("NEARBY"),b("React").createElement(b("Link.react"),{target:"_blank",href:"/help/android-app/291236034364603"},b("React").createElement(b("Image.react"),{className:"_3-90",src:g("129548")}))))};a.prototype.$11=function(){if(!b("ChatConfig").getBool("nearby_friends_www_chatbar")||this.props.nearby.length===0)return null;var a=this.$19(),c=b("ChatSidebarConstants").getImageSize();return b("React").createElement(b("ChatSidebarUserGroupContainer.react"),{ids:this.props.nearby,imageSize:c,isDisconnected:this.state.isDisconnected,loadExtras:this.props.isAfterDomLoad,onMouseEnterItem:this.props.onMouseEnterItem,sectionName:b("ChatSidebarSections").NEARBY,showHoverCard:this.props.isSidebar,slotOffset:a,totalSlots:this.props.maxItemSlots,usersDetailedData:this.props.usersDetailedData})};a.prototype.$20=function(){return this.props.nearby.length};a.prototype.$12=function(){var a=this.state.isDisconnected||this.props.isUserOffline,c=this.props.groups,d=this.$19()+this.$20();if(this.$22())return b("React").createElement(b("React").Fragment,null,this.$23(),b("React").createElement("ul",null,b("React").createElement("li",{className:"_42fz"+(a?" _570-":"")},b("React").createElement(b("ChatSidebarCreateNewGroupItem.react"),{slot:0,slotOffset:d,totalSlots:this.props.maxItemSlots}))));else if(b("ChatOptions").getSetting("hide_groups")||this.props.groups.length===0)return null;return b("React").createElement(b("React").Fragment,null,this.$23(),b("React").createElement(b("ChatSidebarGroupThreadsGroup.react"),{groups:c.slice(0,this.$21(c.length)),isDisconnected:this.state.isDisconnected,loadExtras:this.props.isAfterDomLoad,slotOffset:d,totalSlots:this.props.maxItemSlots}))};a.prototype.$23=function(){var a=this.state.isDisconnected||this.props.isUserOffline;return b("React").createElement(b("ChatSidebarHeader.react"),{ref:function(a){this.$2=a}.bind(this),className:a?"_570-":"",onClick:function(){return this.$17(b("ReactDOM").findDOMNode(this.$2))}.bind(this)},i._("GROUP CONVERSATIONS"))};a.prototype.$21=function(a){if(this.$22())return 1;else if(a===0)return 0;return b("gkx")("AT5XEYH1ZrReYerzhKj5_PytaAcJxBVvUm8BnU1UXvJkWL3CRwm9HpjP4d4QdvCcJzEps4hn0e9aiGI9CC7UmRMvSwDP5zZ1DHe3XtDkTFXDIg")?Math.min(a,b("ChatConfig").getNumber("num_groups_to_show")):a};a.prototype.$9=function(){var a=b("ChatSidebarConstants").getImageSize();return b("React").createElement(b("ChatSidebarUserGroupContainer.react"),{ids:this.props.topUsers,imageSize:a,isDisconnected:this.state.isDisconnected,loadExtras:this.props.isAfterDomLoad,onMouseEnterItem:this.props.onMouseEnterItem,sectionName:b("ChatSidebarSections").ORDERED_LIST,showHoverCard:this.props.isSidebar,slotOffset:0,totalSlots:this.props.maxItemSlots,usersDetailedData:this.props.usersDetailedData})};a.prototype.$19=function(){return this.props.topUsers.length};a.prototype.$24=function(){return this.props.availableUsers.length===0&&this.props.topUsers.length===0&&this.props.groups.length===0};a.prototype.$14=function(){if(!this.props.pymmList)return null;var a=this.props.pymmList.pages;return!this.props.isSidebar||!b("ChatConfig").getBool("show_businesses")||!a||a.length===0?null:b("React").createElement(b("BootloadOnRender.react"),{loader:b("JSResource")("ChatSidebarPymmListContainer.react").__setRef("ChatSidebarOrderedList.react"),placeholder:b("React").createElement("div",null),component:b("React").createElement(b("LazyComponent.react"),{pymmList:a})})};a.prototype.$13=function(){if(b("gkx")("AT4Aq9ewKIFTl67cxoDAodIE6NOyKQZWxOTK7vUN4WSVpVwOKKYWwQCOkB7MMU0feig4qnlFrIZeyqu4hV61bOjlQn8Q2DP89kXsLrKS2wNNWQ")||!b("ChatConfig").getBool("show_admined_pages")||this.props.adminedPages.length===0||!this.props.pageListModule)return null;var a=null;if(this.props.adminedPages.length>=k){var c=b("XPagesBrowserController").getURIBuilder().setString("category","your_pages").setString("ref",this.props.adminedPages[0].ref).getURI();a=b("React").createElement(b("Link.react"),{className:"_2l56",href:c,target:"_blank"},i._("SEE ALL"))}c=this.props.pageListModule;return b("React").createElement(b("React").Fragment,null,b("React").createElement(b("ChatSidebarHeader.react"),{className:"_4kqp"},b("React").createElement(b("LeftRight.react"),null,i._("YOUR PAGES"),a)),b("React").createElement(c,{adminedPages:this.props.adminedPages,onMouseEnter:this.props.onMouseEnterItem}))};a.prototype.$5=function(){b("Bootloader").loadModules(["ChannelConnection"],function(a){this.$1=a.subscribe([a.CONNECTED,a.RECONNECTING,a.SHUTDOWN,a.MUTE_WARNING,a.UNMUTE_WARNING],function(){var c=a.disconnected();c!==this.state.isDisconnected&&(c?b("ChatReliabilityInstrumentation").logCHANNEL_DISCONNECT():b("ChatReliabilityInstrumentation").logCHANNEL_CONNECT(),this.setState({isDisconnected:c}))}.bind(this))}.bind(this),"ChatSidebarOrderedList.react")};a.prototype.$22=function(){return this.props.groups.length===0&&b("gkx")("AT5TWxfoyJTuU3Tr-O8sY_Gkxvimm2rPLn9ZsAsusyJiAYq-zLKg2_7_eMccMJTI9qOx7gwISC6rrsGtqpWk_uDLins6TCNHhi73ZUmc4ebtyg")&&!b("ChatOptions").getSetting("hide_groups")};a.prototype.$15=function(){return b("gkx")("AT4aq0gj3KFvuyn5ouzkcinNuxrDXZY6HPjnRXCVXzOigsSLEws96b2T0YYtUZg_IxPxKREPJvW4RS6GeFXjfiRr")&&!this.props.isSidebar&&this.props.isUserOffline===!0};a.prototype.$16=function(){return!this.$15()?null:b("React").createElement(b("BootloadOnRender.react"),{component:b("React").createElement(b("LazyComponent.react"),null),loader:b("JSResource")("ChatOfflineOverlay.react").__setRef("ChatSidebarOrderedList.react"),placeholder:b("React").createElement("div",null)})};e.exports=a}),null);
__d("ChatSidebarDerivedStore",["ChatDispatcher","ChatSidebarPresencePrivacyActions","ChatSidebarPresencePrivacyStore","ChatSidebarStore","ChatSidebarUserDetailsFactory","ChatUnreadCountStore","FluxDerivedStore","PresencePrivacy","PresenceStatusStore","ShortProfilesStore"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g;c=babelHelpers.inherits(a,b("FluxDerivedStore"));g=c&&c.prototype;function a(a){g.constructor.call(this,a),this.$ChatSidebarDerivedStore1()}a.prototype.$ChatSidebarDerivedStore1=function(){b("PresencePrivacy").subscribe("privacy-user-presence-changed",function(){b("ChatDispatcher").dispatch({type:b("ChatSidebarPresencePrivacyActions").USER_PRESENCE_CHANGED})}),b("PresencePrivacy").subscribe("privacy-changed",function(){b("ChatDispatcher").dispatch({type:b("ChatSidebarPresencePrivacyActions").PRIVACY_CHANGED})}),b("PresencePrivacy").subscribe("privacy-availability-changed",function(){b("ChatDispatcher").dispatch({type:b("ChatSidebarPresencePrivacyActions").PRIVACY_CHANGED})}),b("PresencePrivacy").subscribe("privacy-user-presence-response",function(){b("ChatDispatcher").dispatch({type:b("ChatSidebarPresencePrivacyActions").USER_PRESENCE_CHANGED})})};a.prototype.__getStores=function(){return[b("ChatSidebarPresencePrivacyStore"),b("ChatSidebarStore"),b("ChatUnreadCountStore"),b("PresenceStatusStore"),b("ShortProfilesStore")]};a.prototype.__getData=function(a){var c=b("ChatSidebarStore").getExtraData(a),d=b("ChatSidebarStore").getUsersData(c.numTopFriends),e=b("ChatSidebarStore").getState(),f=d.availableUsers,g=d.offlineUsers,h=d.topUsers,i=d.workOthers,j=c.nearby,k=e.isAfterDomLoad;return babelHelpers["extends"]({},e,c,d,{maxItemSlots:a,presencePrivacy:b("ChatSidebarPresencePrivacyStore").getState(),usersDetailedData:b("ChatSidebarUserDetailsFactory").getUsersDetailedData([].concat(f,j,g,h,i),k)})};a.prototype.__computeResult=function(a,c){a=c.presencePrivacy.currentUser;return babelHelpers["extends"]({},c,{isUserOffline:a===b("PresencePrivacy").OFFLINE})};a.prototype.getVisibleType=function(){return b("ChatSidebarStore").getVisibleType()};a.__moduleID=e.id;e.exports=new a(b("ChatDispatcher"))}),null);
__d("BaseChatSidebar.react",["Arbiter","AsyncRequest","Bootloader","ChatConfig","ChatDispatcher","ChatSidebarActions","ChatSidebarCachedViewport","ChatSidebarConstants","ChatSidebarDerivedStore","ChatSidebarVisibility","CSS","DOM","Event","LitestandClassicPlaceHolders","MessengerDivebarSizingTypedLogger","PresencePrivacy","PresenceUtil","React","SidebarAppsInitialVisibility","SidebarType","Style","ViewportBounds","WWWSiteOrganizationGating","debounceAcrossTransitions","emptyFunction","gkx","ifRequired","onAfterDisplay","onAfterLoadSafe","queryThenMutateDOM","requireWeak"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g,h=b("WWWSiteOrganizationGating").largerBlueBar?49:44,i=b("ChatSidebarConstants").getItemHeight(),j=8,k="sidebarMode",l=b("ChatConfig").get("expanded_divebar_width"),m=171,n=30,o=300,p=b("ChatSidebarCachedViewport").viewport;function q(a){new(b("AsyncRequest"))("/ajax/chat/settings.php").setHandler(b("emptyFunction")).setErrorHandler(b("emptyFunction")).setData({sidebar_mode:a,window_id:b("PresenceUtil").getSessionID()}).setAllowCrossPageTransition(!0).send()}a=babelHelpers.inherits(r,b("React").Component);g=a&&a.prototype;function r(){__p&&__p();var a,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return c=(a=g.constructor).call.apply(a,[this].concat(e)),this.$2=!1,this.$3=!0,this.$4=b("emptyFunction"),this.$5=b("emptyFunction"),this.state={computedState:this.props.initialState||b("ChatSidebarDerivedStore").get(r.calculateMaxItemSlots(this.props.heightOffset)),show:!0},this.handleDerivedStoreChange=function(){var a=b("ChatSidebarDerivedStore").get(r.calculateMaxItemSlots(this.props.heightOffset));a!==this.state.computedState&&this.setState({computedState:a})}.bind(this),this.handleMouserOut=function(){this.$2=!1,this.$3&&(this.$3=!1,this.$4())}.bind(this),this.handleMouserOver=function(){this.$2=!0}.bind(this),this.handleMouseEnterItem=function(a){b("Bootloader").loadModules(["ChatSidebarHoverCardV2"],function(b){var c=this.state.computedState,d=c.adminedPages.map(function(a){return a.id+""}).filter(Boolean);b.prefetchHoverCardData(a,c.availableUsers.concat(d,c.nearby,c.topUsers,c.workOthers))}.bind(this),"BaseChatSidebar.react")}.bind(this),this.resize=function(a,c){var d,e;b("queryThenMutateDOM")(function(){c&&c(),e=p||{},(!a||a.height!==e.height)&&(d=r.getBodyHeight(this.props.heightOffset))}.bind(this),function(){(!a||a.width!==e.width)&&b("ChatSidebarVisibility").shouldShowSidebar(p,function(a,c){b("ChatSidebarActions").show(a?b("SidebarType").SIDEBAR:b("SidebarType").BUDDYLIST)}),this.adjustToFitHeightFromParams(d)}.bind(this))}.bind(this),this.updateOnActiveTypeahead=function(a,b){this.setState({show:!b})}.bind(this),this.update=function(a){if(!this.shouldSidebarUpdate())return;a?this.handleSizeUpdate():this.handleUsersUpdate()}.bind(this),c}r.calculateMaxItemSlots=function(a){return Math.floor((r.getBodyHeight(a)-j)/i)};r.getBodyHeight=function(a){var c=p||b("ChatSidebarVisibility").getViewport(),d=c.height;d-=h;d-=n;d-=a;b("ifRequired")("AppsDivebarDisplayController",function(a){a.isVisible()&&(d-=m)},function(){b("SidebarAppsInitialVisibility").visible&&(d-=m)});return Math.max(0,d)};r.prototype.componentDidMount=function(){__p&&__p();this.$4=b("debounceAcrossTransitions")(this.update,o,this);this.$5=b("debounceAcrossTransitions")(this.handleDerivedStoreChange,o,this);this.setupStore();this.setupSearchHandler();this.setupSettingHandler();b("Event").listen(window,"resize",function(){var a=babelHelpers["extends"]({},p)||{};this.resizeAndUpdateViewport(a)}.bind(this));b("PresencePrivacy").subscribe("privacy-user-presence-changed",this.resize);this.$1=b("DOM").find(this.props.root,"div.fbChatSidebarBody");var a=r.getBodyHeight(this.props.heightOffset);b("Style").set(this.$1,"height",a+"px");b("onAfterLoadSafe")(function(){var a=this.state.computedState.visible===b("SidebarType").SIDEBAR;this.resizeAndUpdateViewport();b("onAfterLoadSafe")(function(){a!==(this.state.computedState.visible===b("SidebarType").SIDEBAR)&&b("Bootloader").loadModules(["ChatReliabilityInstrumentation"],function(a){a.logERROR("sidebar flashed")},"BaseChatSidebar.react")}.bind(this));b("Bootloader").loadModules(["AvailableList","AvailableListConstants"],function(a,b){a.subscribe(b.ON_AVAILABILITY_CHANGED,function(){return this.$4()}.bind(this))}.bind(this),"BaseChatSidebar.react")}.bind(this));b("ViewportBounds").addPersistentRight(l);b("Arbiter").inform("sidebar/initialized");this.props.initialState||b("ChatSidebarActions").init()};r.prototype.componentDidUpdate=function(a,b){b.computedState.visible!==this.state.computedState.visible&&this.handleVisibilityChange(this.state.computedState.visible);a=this.state.computedState.presencePrivacy.currentUser!==b.computedState.presencePrivacy.currentUser;this.state.computedState.enabled!==b.computedState.enabled&&q(this.state.computedState.enabled);a&&this.handleSizeUpdate()};r.prototype.setupStore=function(){b("ChatSidebarDerivedStore").getDependencyStores().forEach(function(a){b("ChatDispatcher").explicitlyRegisterStore(a)}),this.props.onRegisterStore&&this.props.onRegisterStore(function(){return this.adjustToFitHeight()}.bind(this)),b("ChatSidebarActions").loaded(),b("ChatSidebarDerivedStore").addListener(this.$5)};r.prototype.setupSettingHandler=function(){b("Arbiter").subscribe("chat/option-changed",function(a,b){a=b.name;(a==="hide_groups"||a==="hide_admined_pages"||a==="hide_businesses")&&this.adjustToFitHeight()}.bind(this)),b("Arbiter").subscribe(["AppsDivebar/show-apps","AppsDivebar/hide-apps","PagesDivebar/show-pages","PagesDivebar/hide-pages"],function(){return this.adjustToFitHeight()}.bind(this))};r.prototype.setupSearchHandler=function(){b("Arbiter").subscribe("sidebar/typeahead/active",this.updateOnActiveTypeahead),b("gkx")("AT6ZCntuwGBL1LBDjniJnuZTki0EgqKZ16N0_aKYu1tUnleN5fWyObM-HMcM9_e2aftsyQ6i7hVPvvzxMu5Zazav")?b("onAfterDisplay")(this.bootloadKeyboardShortcuts.bind(this)):this.bootloadKeyboardShortcuts()};r.prototype.bootloadKeyboardShortcuts=function(){var a=this.props.root;b("Bootloader").loadModules(["KeyboardShortcuts"],function(c){c.register("q",function(event){if(this.$6()!==b("SidebarType").SIDEBAR)return;b("requireWeak")("ChatTypeaheadCore",function(b){b.focusSearchField(a,event)})}.bind(this),{persistOnTransition:!0})}.bind(this),"BaseChatSidebar.react")};r.prototype.render=function(){var a=this.state.computedState;return!a.enabled?null:b("React").createElement("div",{onMouseOver:this.handleMouserOver,onMouseOut:this.handleMouserOut},this.props.children({computedState:a,hide:!this.state.show,onMouseEnterItem:this.handleMouseEnterItem}))};r.prototype.handleVisibilityChange=function(a){switch(a){case b("SidebarType").SIDEBAR:this.show();break;case b("SidebarType").BUDDYLIST:this.hide();break}};r.prototype.adjustToFitHeight=function(){var a;b("queryThenMutateDOM")(function(){a=r.getBodyHeight(this.props.heightOffset)}.bind(this),function(){return this.adjustToFitHeightFromParams(a)}.bind(this))};r.prototype.adjustToFitHeightFromParams=function(a){if(!a)return;var c=Math.floor(a-j);this.$4(!0);this.$1&&b("Style").set(this.$1,"height",a+"px");b("Arbiter").inform("sidebar/resized",c,b("Arbiter").BEHAVIOR_STATE);b("Arbiter").inform("reflow")};r.prototype.resizeAndUpdateViewport=function(a){this.resize(a,function(){p=b("ChatSidebarVisibility").getViewport()})};r.prototype.show=function(){var a=document.documentElement||"";b("CSS").addClass(a,k);b("CSS").show(this.props.root);b("Arbiter").inform("sidebar/visibility",!0,b("Arbiter").BEHAVIOR_STATE);b("LitestandClassicPlaceHolders").destroy("sidebar");b("ViewportBounds").inform("change")};r.prototype.hide=function(){var a=document.documentElement||"";b("CSS").removeClass(a,k);b("CSS").hide(this.props.root);b("Arbiter").inform("sidebar/visibility",!1,b("Arbiter").BEHAVIOR_STATE);b("Arbiter").inform("reflow");b("ViewportBounds").inform("change")};r.prototype.$6=function(){return b("ChatSidebarDerivedStore").getVisibleType()};r.prototype.shouldSidebarUpdate=function(){if(this.$6()!==b("SidebarType").SIDEBAR||this.$2){this.$2&&(this.$3=!0);return!1}return!0};r.prototype.handleSizeUpdate=function(){var a=r.calculateMaxItemSlots(this.props.heightOffset),c=this.state.computedState;this.setState({computedState:b("ChatSidebarDerivedStore").get(r.calculateMaxItemSlots(this.props.heightOffset))},function(){var d=this.state.computedState,e=d.adminedPages,f=d.isUserOffline,g=d.groups,h=d.nearby,i=d.numTopFriends;d=d.pymmList;if(f!==c.isUserOffline||i!==c.numTopFriends||g.length!==c.groups.length||h.length!==c.nearby.length||e.length!==c.adminedPages.length||((f=d)!=null?(f=f.pages)!=null?f.length:f:f)!==((f=c)!=null?(f=f.pymmList)!=null?(f=f.pages)!=null?f.length:f:f:f)){new(b("MessengerDivebarSizingTypedLogger"))().setMaxItemSlots(a).setSidebarType(b("SidebarType").SIDEBAR).setNumTopFriends(i).setNumNearby(h.length).setNumGroups(g.length).setNumAdminedPages(e.length).setNumPymm(((f=d)!=null?(f=f.pages)!=null?f.length:f:f)||0).log()}}.bind(this))};r.prototype.handleUsersUpdate=function(){var a=this.state.computedState.maxItemSlots;a=b("ChatSidebarDerivedStore").get(a);this.state.computedState!==a&&this.setState({computedState:a})};r.defaultProps={heightOffset:0};e.exports=r}),null);
__d("ChatSidebar.react",["BaseChatSidebar.react","ChatSidebarOrderedList.react","React"],(function(a,b,c,d,e,f){"use strict";function a(a){return b("React").createElement(b("BaseChatSidebar.react"),{initialState:a.initialState,root:a.root},function(a){var c=a.computedState,d=a.hide;a=a.onMouseEnterItem;return b("React").createElement(b("ChatSidebarOrderedList.react"),{adminedPages:c.adminedPages,availableUsers:c.availableUsers,groups:c.groups,hide:d,isAfterDomLoad:c.isAfterDomLoad,isSidebar:!0,isUserOffline:c.isUserOffline,maxItemSlots:c.maxItemSlots+1,nearby:c.nearby,offlineUsers:c.offlineUsers,onMouseEnterItem:a,pageListModule:c.pageListModule,pymmList:c.pymmList,topUsers:c.topUsers,usersDetailedData:c.usersDetailedData,workOthers:c.workOthers})})}e.exports=a}),null);